import{c6 as D,x as s,ca as O,A as i,y as G}from"./index-355bc263.js";function b(){const t=localStorage.getItem("cache");return t?JSON.parse(t):void 0}const y=D("site",()=>{const t=s(b()||O.data),a=s(0),u=s(0),n=s(0),o=e=>a.value=e,c=e=>u.value=e,l=e=>n.value=e,v=i(()=>t.value.map(e=>({id:e.id,name:e.name}))),r=i(()=>t.value[a.value]||{groupList:[]});function d(e){t.value[a.value].groupList[u.value].siteList.push(e)}function p(e){t.value[a.value].groupList.push(e)}function f(e){t.value.push(e)}function g(e){Object.assign(t.value[a.value].groupList[u.value].siteList[n.value],e)}function L(e){Object.assign(t.value[a.value].groupList[u.value],e)}function S(e){Object.assign(t.value[a.value],e)}function m(){t.value[a.value].groupList[u.value].siteList.splice(n.value,1)}function x(){t.value[a.value].groupList.splice(u.value,1)}function I(){t.value.splice(a.value,1)}function h(){localStorage.setItem("cache",JSON.stringify(t.value))}function C(e){t.value=e}return G(t,()=>{h()},{deep:!0}),{data:t,cateIndex:a,cateList:v,currentCateData:r,setCateIndex:o,setGroupIndex:c,setSiteIndex:l,addSite:d,addGroup:p,addCate:f,updateSite:g,updateGroup:L,updateCate:S,deleteSite:m,deleteGroup:x,deleteCate:I,setData:C}});export{y as u};
